{
  "batch_id": "github_0007",
  "commit_count": 20,
  "date_range": {
    "oldest": "2025-12-09T14:07:31Z",
    "newest": "2025-12-10T14:28:53Z"
  },
  "analyzed_at": "2026-01-02T15:35:27.106964",
  "changes_summary": "These commits primarily focus on Factor Form OTP (One-Time Purchase) implementation and TPT (The Plant Table) feature development. Major work includes OTP integration across checkout, order summary, and delivery pages, along with portion percentage experiments and UI component development. Additional work includes structured data markup, voucher functionality, and payment error handling improvements.",
  "features": [
    {
      "name": "Factor Form OTP (One-Time Purchase)",
      "description": "Comprehensive OTP implementation including cart creation on SKU change, order summary updates, address form checkout type handling, delivery page information display, and removal of endless pause calls",
      "commits": [
        "5723c430",
        "e65419ce",
        "ef2dbd5e",
        "be4a5878",
        "cab9597d",
        "4463ce73",
        "458c6315",
        "ade421d9"
      ],
      "status": "added"
    },
    {
      "name": "Portion Percentage Components",
      "description": "Development of portion percentage UI components including PlanSelectionGridWithPortions component and experiment variations setup",
      "commits": [
        "c8061a1e",
        "0fa01848",
        "f7409199"
      ],
      "status": "added"
    },
    {
      "name": "VMS to VMSU Family Normalization",
      "description": "Helper function created to normalize VMS (Virtual Meal Service) to VMSU family for given SKUs",
      "commits": [
        "9479e225"
      ],
      "status": "added"
    },
    {
      "name": "Recipe Carousel Contentful Integration",
      "description": "Added Contentful keys for recipe carousel component",
      "commits": [
        "06e1638c"
      ],
      "status": "added"
    },
    {
      "name": "Box Model Builder Arguments",
      "description": "Enhanced Box Model Builder with arguments support",
      "commits": [
        "9b553555"
      ],
      "status": "modified"
    },
    {
      "name": "Entry Point Reactivation Voucher",
      "description": "Added voucher functionality to Entry Point Reactivation flow",
      "commits": [
        "68049a5c"
      ],
      "status": "added"
    },
    {
      "name": "Deliveries Polling After Plan Change",
      "description": "Implemented polling mechanism for deliveries after plan changes",
      "commits": [
        "1061c9ee"
      ],
      "status": "added"
    },
    {
      "name": "Homepage Structured Markup",
      "description": "Implemented structured data markup for homepage SEO optimization",
      "commits": [
        "ce5e7ebc"
      ],
      "status": "added"
    },
    {
      "name": "Legacy FactorForm Canonical URL Update",
      "description": "Updated canonical URLs for legacy FactorForm to point to new FactorForm (staging only)",
      "commits": [
        "6448769a"
      ],
      "status": "modified"
    }
  ],
  "decisions": [
    {
      "what": "Migrate checkout components to use useActivationCheckoutSkuPricing hook",
      "rationale": "Standardize pricing logic across checkout components for consistency and maintainability",
      "ticket": "TPT-2362"
    },
    {
      "what": "Remove endless pause call from Factor Form",
      "rationale": "Part of OTP implementation to handle one-time purchases differently from subscription pauses",
      "ticket": "RTEVMS-2331"
    },
    {
      "what": "Implement OTP cart creation on SKU change",
      "rationale": "Enable dynamic cart updates when users change product selections in OTP flow",
      "ticket": "RTEVMS-2351"
    },
    {
      "what": "Add structured markup data for homepage",
      "rationale": "Improve SEO and search engine understanding of homepage content",
      "ticket": "TPT-2363"
    }
  ],
  "refactors": [
    {
      "area": "Checkout components pricing logic",
      "reason": "Consolidate pricing calculations using useActivationCheckoutSkuPricing hook",
      "impact": "All checkout components now use standardized pricing hook"
    },
    {
      "area": "Factor Form OTP integration",
      "reason": "Support one-time purchase flow alongside subscription model",
      "impact": "Address forms, order summary, cart creation, and delivery pages"
    }
  ],
  "fixes": [
    {
      "issue": "Invalid payment inline error display",
      "ticket": "TPT-2423"
    }
  ],
  "entities": [
    {
      "name": "Factor Form",
      "type": "component",
      "context": "Major updates for OTP support including order summary, address forms, cart creation, and canonical URLs"
    },
    {
      "name": "VMS/VMSU",
      "type": "system",
      "context": "Added normalization helper for SKU family mapping"
    },
    {
      "name": "Contentful",
      "type": "system",
      "context": "Integration for recipe carousel content management"
    },
    {
      "name": "My Deliveries",
      "type": "feature",
      "context": "Enhanced with OTP information display and i18n support"
    },
    {
      "name": "Box Model Builder",
      "type": "component",
      "context": "Enhanced with arguments support"
    },
    {
      "name": "Entry Point Reactivation",
      "type": "feature",
      "context": "Added voucher support"
    },
    {
      "name": "Lokalise",
      "type": "system",
      "context": "Multiple i18n key additions for OTP and delivery pages"
    },
    {
      "name": "The Plant Table (TPT)",
      "type": "brand",
      "context": "Multiple feature developments including portion percentages, experiments, and component migrations"
    }
  ],
  "key_patterns": [
    "Feature flag/experiment-driven development with variation setup (portion percentage experiments)",
    "Internationalization (i18n) as first-class concern with Lokalise integration",
    "Component-based architecture with reusable hooks (useActivationCheckoutSkuPricing)",
    "Separation of OTP (one-time purchase) and subscription flows",
    "Polling patterns for async state updates (deliveries after plan change)",
    "SEO optimization through structured data markup",
    "Staging-only deployments for gradual rollout (canonical URL updates)",
    "Helper function pattern for data normalization (VMS to VMSU)",
    "CMS integration for content management (Contentful)"
  ]
}