{
  "batch_id": "github_0001",
  "commit_count": 20,
  "date_range": {
    "oldest": "2025-12-19T21:17:49Z",
    "newest": "2025-12-23T17:59:48Z"
  },
  "analyzed_at": "2026-01-02T15:32:53.102182",
  "changes_summary": "These commits primarily focus on One-Time Purchase (OTP) functionality improvements, test stabilization, and feature flag cleanup. Major work includes implementing OTP checkout flows, recipe selection CTAs, delivery management features, and removing deprecated functionality like cadence from delivery options and 75% portion options for higher calorie meals.",
  "features": [
    {
      "name": "Select this recipe CTA",
      "description": "Implementation of a call-to-action button for recipe selection with Contentful integration",
      "commits": [
        "5a609733",
        "3d722825"
      ],
      "status": "added"
    },
    {
      "name": "One-time deliveries page",
      "description": "New page for managing one-time delivery orders",
      "commits": [
        "b2778cb1"
      ],
      "status": "added"
    },
    {
      "name": "OTP checkout tracking",
      "description": "Added checkout_type parameter to ecommerce events and Statsig tracking for OTP checkout submissions",
      "commits": [
        "437d3573",
        "2610bcbd"
      ],
      "status": "added"
    },
    {
      "name": "OTP detection for SubscriptionLoading",
      "description": "Added one-time purchase detection logic to subscription loading component",
      "commits": [
        "99a5432d"
      ],
      "status": "added"
    },
    {
      "name": "75% portion option removal",
      "description": "Removed 75% portion option for meals with 226+ calories in funnel",
      "commits": [
        "3312489c"
      ],
      "status": "removed"
    },
    {
      "name": "Cadence deprecation",
      "description": "Removed cadence field from delivery options",
      "commits": [
        "8ab43b83"
      ],
      "status": "removed"
    }
  ],
  "decisions": [
    {
      "what": "Remove 75% portion option for higher calorie meals",
      "rationale": "Business rule change for meals with 226+ calories in the funnel flow",
      "ticket": "TPT-2516"
    },
    {
      "what": "Deprecate cadence from delivery options",
      "rationale": "Field no longer needed in delivery options configuration",
      "ticket": "TPT-2367"
    },
    {
      "what": "Clear localStorage OTP address keys after successful order",
      "rationale": "Prevent stale address data from persisting after order completion",
      "ticket": "GOC-3426"
    },
    {
      "what": "Add visibility assertions to helper functions",
      "rationale": "Improve test reliability by ensuring elements are visible before interaction",
      "ticket": "TPT-2520"
    }
  ],
  "refactors": [
    {
      "area": "Factor Form OTP Calculate Migration",
      "reason": "Cleanup after migration completion",
      "impact": "Factor brand form calculations"
    },
    {
      "area": "F4L feature flag cleanup",
      "reason": "Remove obsolete feature flags after full rollout",
      "impact": "Factor for Life (F4L) feature code"
    },
    {
      "area": "Regroups rewrites",
      "reason": "Code organization and structure improvements",
      "impact": "Regroup functionality"
    },
    {
      "area": "Adjust calories config for new portions",
      "reason": "Update configuration to support new portion sizing options",
      "impact": "Calorie adjustment feature"
    }
  ],
  "fixes": [
    {
      "issue": "Factor Form cancellation flash message not displaying correctly",
      "ticket": "RTEVMS-2277"
    },
    {
      "issue": "SQF validate questions for ES-GB-IE locales",
      "ticket": "GOC-3399"
    },
    {
      "issue": "Checkout header plans selection redirection issue",
      "ticket": "TPT-2305"
    }
  ],
  "entities": [
    {
      "name": "Factor",
      "type": "brand",
      "context": "Form improvements, OTP functionality, and feature flag cleanup"
    },
    {
      "name": "OTP (One-Time Purchase)",
      "type": "feature",
      "context": "Major focus with checkout flow, tracking, address management, and detection logic"
    },
    {
      "name": "Contentful",
      "type": "system",
      "context": "Integration for recipe CTA content management"
    },
    {
      "name": "Statsig",
      "type": "system",
      "context": "Analytics tracking for OTP checkout submissions"
    },
    {
      "name": "E2E Tests",
      "type": "system",
      "context": "Multiple test unquarantine efforts and stability improvements"
    },
    {
      "name": "Delivery Options",
      "type": "component",
      "context": "Cadence field deprecation and address management"
    },
    {
      "name": "Recipe Selection",
      "type": "component",
      "context": "New CTA implementation"
    },
    {
      "name": "Checkout",
      "type": "component",
      "context": "Header redirection fixes and ecommerce event tracking"
    }
  ],
  "key_patterns": [
    "Progressive feature flag cleanup after successful rollouts",
    "Test stabilization through unquarantining with visibility assertions",
    "OTP (One-Time Purchase) as a major architectural addition across multiple components",
    "Analytics instrumentation with Statsig and ecommerce events",
    "localStorage management for transient checkout data",
    "Contentful CMS integration for dynamic content",
    "Locale-specific fixes (ES-GB-IE)",
    "Business rule enforcement through code (calorie-based portion restrictions)",
    "Migration cleanup pattern after feature completion"
  ]
}